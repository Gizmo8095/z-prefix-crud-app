{"ast":null,"code":"var _jsxFileName = \"/home/mason/projects/z-prefix-crud-app/frontend/src/components/MyAccount.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Table } from 'react-bootstrap';\nimport { useNavigate } from 'react-router-dom';\nimport AppContext from '../AppContext.js';\nimport EditUserItem from './EditUserItem';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction MyAccount({\n  setIsLoggedIn\n}) {\n  _s();\n  const navigate = useNavigate();\n  const [userItems, setUserItems] = useState([]);\n  const [editItemId, setEditItemId] = useState(null); // State to keep track of the item in edit mode\n  const {\n    currentUser\n  } = useContext(AppContext);\n  useEffect(() => {\n    fetch(`http://localhost:3001/user-items/${currentUser.id}`).then(response => response.json()).then(data => setUserItems(data)).catch(error => console.error('Error fetching user data:', error));\n  }, [currentUser.id]);\n  const handleUserDelete = () => {\n    // Send DELETE request to delete the user\n    fetch(`http://localhost:3001/users/${currentUser.id}`, {\n      method: 'DELETE'\n    }).then(response => {\n      if (response.ok) {\n        // User deleted successfully\n        // Show a confirmation message\n        window.alert('User deleted successfully.');\n        // Redirect to the inventory page\n        setIsLoggedIn(false);\n        navigate('/');\n      } else {\n        throw new Error('Failed to delete user');\n      }\n    }).catch(error => {\n      console.error('Delete error:', error);\n    });\n  };\n  const handleEditItem = itemId => {\n    setEditItemId(itemId);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleUserDelete,\n      children: \"Delete User\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Item Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Quantity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"User ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Action\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: userItems.map(item => /*#__PURE__*/_jsxDEV(EditUserItem, {\n          item: item,\n          isEditMode: item.id === editItemId,\n          onEditItem: handleEditItem,\n          setUserItems: setUserItems\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(MyAccount, \"nQ6GB0gFFtE+nhubSXS+ugfv/Uo=\", false, function () {\n  return [useNavigate];\n});\n_c = MyAccount;\nexport default MyAccount;\nvar _c;\n$RefreshReg$(_c, \"MyAccount\");","map":{"version":3,"names":["React","useState","useEffect","useContext","Table","useNavigate","AppContext","EditUserItem","jsxDEV","_jsxDEV","Fragment","_Fragment","MyAccount","setIsLoggedIn","_s","navigate","userItems","setUserItems","editItemId","setEditItemId","currentUser","fetch","id","then","response","json","data","catch","error","console","handleUserDelete","method","ok","window","alert","Error","handleEditItem","itemId","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","striped","bordered","hover","map","item","isEditMode","onEditItem","_c","$RefreshReg$"],"sources":["/home/mason/projects/z-prefix-crud-app/frontend/src/components/MyAccount.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { Table } from 'react-bootstrap';\nimport { useNavigate } from 'react-router-dom';\nimport AppContext from '../AppContext.js';\nimport EditUserItem from './EditUserItem';\n\nfunction MyAccount({ setIsLoggedIn }) {\n  const navigate = useNavigate();\n  const [userItems, setUserItems] = useState([]);\n  const [editItemId, setEditItemId] = useState(null); // State to keep track of the item in edit mode\n  const { currentUser } = useContext(AppContext);\n\n  useEffect(() => {\n    fetch(`http://localhost:3001/user-items/${currentUser.id}`)\n      .then((response) => response.json())\n      .then((data) => setUserItems(data))\n      .catch((error) => console.error('Error fetching user data:', error));\n  }, [currentUser.id]);\n\n  const handleUserDelete = () => {\n    // Send DELETE request to delete the user\n    fetch(`http://localhost:3001/users/${currentUser.id}`, {\n      method: 'DELETE',\n    })\n      .then((response) => {\n        if (response.ok) {\n          // User deleted successfully\n          // Show a confirmation message\n          window.alert('User deleted successfully.');\n          // Redirect to the inventory page\n          setIsLoggedIn(false);\n          navigate('/');\n        } else {\n          throw new Error('Failed to delete user');\n        }\n      })\n      .catch((error) => {\n        console.error('Delete error:', error);\n      });\n  };\n\n  const handleEditItem = (itemId) => {\n    setEditItemId(itemId);\n  };\n\n  return (\n    <>\n      <button onClick={handleUserDelete}>Delete User</button>\n      <Table striped bordered hover>\n        <thead>\n          <tr>\n            <th>Item Name</th>\n            <th>Quantity</th>\n            <th>User ID</th>\n            <th>Description</th>\n            <th>Action</th>\n          </tr>\n        </thead>\n        <tbody>\n          {userItems.map((item) => (\n            <EditUserItem\n              key={item.id}\n              item={item}\n              isEditMode={item.id === editItemId}\n              onEditItem={handleEditItem}\n              setUserItems={setUserItems}\n            />\n          ))}\n        </tbody>\n      </Table>\n    </>\n  );\n}\n\nexport default MyAccount;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}